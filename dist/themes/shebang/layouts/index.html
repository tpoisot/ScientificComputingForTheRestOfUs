{{ define "main" }}
{{.Content}}

<div class="about">
    <a href="about" title="About the project">Read more about the project</a>
</div>

<section class="modules">
    {{ range $id, $section := .Site.Sections }}
    <h3>{{ title (substr ($section.Title | humanize) 3) }}</h3>
    <div class="cards">
        {{ range $index, $page := (sort $section.Pages "File.Path") }}
        <div class="card">
            <div class="title">
                <span class="index">{{ printf "%02d" $id }}/{{ printf "%02d" $index }}</span>
                <a href="{{ $page.Permalink }}">{{ $page.Title }}</a><br />
            </div>
            <div class="summary">
                {{ $page.Summary }}
                <div class="status">
                    <span class="label status-{{ $page.Params.status }}">
                        {{ with (eq $page.Params.status "alpha") }}{{ end }}
                        {{ with (eq $page.Params.status "beta") }}{{ end }}
                        {{ with (eq $page.Params.status "release") }}{{ end }}
                    </span>
                    {{ with (eq $page.Params.status "alpha") }}This module is in development, and not to be used in practice{{ end }}
                    {{ with (eq $page.Params.status "beta") }}This module is mostly complete but not field-tested{{ end }}
                    {{ with (eq $page.Params.status "release") }}This module has been field-tested with actual learners{{ end }}
                </div>
            </div>
        </div>
        {{ end }}
    </div>
    {{ end }}
</section>

{{ end }}