<!doctype html><html><head>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta charset=utf-8>
<link href=/fonts/fontawesome/css/fontawesome.css rel=stylesheet>
<link href=/fonts/fontawesome/css/brands.css rel=stylesheet>
<link href=/fonts/fontawesome/css/solid.css rel=stylesheet>
<script src=https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js></script>
<script>mermaid.initialize({startOnLoad:!0,theme:"neutral",curve:"linear"})</script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css integrity=sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC crossorigin=anonymous>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js integrity=sha384-X/XCfMm41VSsqRNQgDerQczD69XqmjOOOwYQvr/uuC+j4OPoNhVgjdGFwhvN02Ja crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous onload=renderMathInElement(document.body)></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script>
<link rel=stylesheet href=https://sciencecomputing.io/index.818233115a5ddaf75da6d0ea23b08181cba7bdd5657dda146098a1d667db9950.css>
<title>Short-circuit Boolean operations · Scientific computing</title></head><body><header>
<div id=reading-bar><div id=reading-bar-inner></div></div><img class=logo src=/logo.svg>
<h1><a href=/>Scientific computing</a></h1><h2>(for the rest of us)</h2></header><main>
<h1>Short-circuit Boolean operations</h1><article>
<p>In the <a href=https://sciencecomputing.io/fundamentals/introduction-to-boolean-values/>previous module</a>, we have introduce important notions about
Boolean values. In this module, we will expand upon this knowledge in ways
that will enable us to be more expressive with the code we write.</p><p>As part of the previous module, we introduced <code>|</code> and <code>&</code> as the <em>or</em> and
<em>and</em> operands, respectively. There was a slight omission in this approach, as
both of them have a closely related variant, <code>||</code> and <code>&&</code>.</p><p>The difference between <code>|</code> and <code>||</code> is particularly confusing, and is related
to the fact that one is a <em>short-circuit</em> version of the other. One way to
figure out what this means is to experiment with a construct where we will put
a Boolean value first, then a Boolean operator, and finally something
different, like for example <code>"Hi!"</code>.</p><p>If you look at the documentation for <code>|</code> and <code>||</code>, you will see that <code>|</code> is
the bit-wise operator; in other words, it will need to be surrounded by
Boolean values on both sides. The <code>||</code> is the <em>short-circuit</em> version of the
operator, which has the very nice property that its evaluation stops as soon
as it can determine the answer with certainty. We can exploit this.s</p><p>Let&rsquo;s try a simple case first:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-julia data-lang=julia><span class=line><span class=cl><span class=nb>true</span> <span class=o>||</span> <span class=s>&#34;Hi!&#34;</span>
</span></span></code></pre></div><pre tabindex=0><code>true
</code></pre><p>This returns <code>true</code> because the left side is <code>true</code> and the operator is <code>||</code>
(<em>or</em>). No matter what the right hand is, there is no need to evaluate it
because <code>true |</code> anything is <code>true</code>. The operator serves as a sort of circuit
breaker.</p><p>But what is the initial element is <code>false</code>? In this case, we need to know the
right side, because <code>false |</code> anything is not something we can answer
directly; therefore, <em>Julia</em> will have to evaluate the right hand side.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-julia data-lang=julia><span class=line><span class=cl><span class=nb>false</span> <span class=o>||</span> <span class=s>&#34;Hi!&#34;</span>
</span></span></code></pre></div><pre tabindex=0><code>&#34;Hi!&#34;
</code></pre><p>Interesting..! In this case, the output is not a Boolean, but a <code>String</code>:
<code>"Hi!"</code>. In the process of evaluating our code, we have managed to execute an
operation.s</p><p>The short-circuit <em>and</em> works in the exact same way (well, the exact opposite,
but still):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-julia data-lang=julia><span class=line><span class=cl><span class=nb>false</span> <span class=o>&amp;&amp;</span> <span class=s>&#34;Hi!&#34;</span>
</span></span></code></pre></div><pre tabindex=0><code>false
</code></pre><p>This returns <code>false</code> directly because there is no right hand side value that
could possibly change the result of an operation, and so <code>&&</code> serves as a
circuit breaker. But if we have a <code>true</code> statement next:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-julia data-lang=julia><span class=line><span class=cl><span class=nb>true</span> <span class=o>&amp;&amp;</span> <span class=s>&#34;Hi!&#34;</span>
</span></span></code></pre></div><pre tabindex=0><code>&#34;Hi!&#34;
</code></pre><p>In this case, we get the right hand side executed!</p><p>This is the basis of a common (and very expressive) design pattern &ndash; in the
same line, we can specify a check and an action. One of our favorite ways to
use it is to check if a path exists, and if not create it:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-julia data-lang=julia><span class=line><span class=cl><span class=n>ispath</span><span class=p>(</span><span class=s>&#34;foo&#34;</span><span class=p>)</span> <span class=o>||</span> <span class=n>mkdir</span><span class=p>(</span><span class=s>&#34;foo&#34;</span><span class=p>)</span>
</span></span></code></pre></div><pre tabindex=0><code>&#34;foo&#34;
</code></pre><p>Let&rsquo;s be clean and remove this path, but only if it exists:s</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-julia data-lang=julia><span class=line><span class=cl><span class=n>ispath</span><span class=p>(</span><span class=s>&#34;foo&#34;</span><span class=p>)</span> <span class=o>&amp;&amp;</span> <span class=n>rm</span><span class=p>(</span><span class=s>&#34;foo&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p>Additional uses of this patterns include throwing exceptions, exiting out of
loops early, returning early, etc., and it will see <em>a lot</em> of use in this
material (because it is concise and elegant).</p></article></main><footer>
<div class=wrapper>
<a href=/about/>About this project</a>
<a href=https://github.com/tpoisot/ScientificComputingForTheRestOfUs target=_blank>See the project on GitHub</a>
<a href="https://github.com/tpoisot/ScientificComputingForTheRestOfUs/issues/new?labels=section-fundamentals,module-short_circuit,status-rc,feedback&assignees=@tpoisot&title=ADD%20A%20DESCRIPTIVE%20TITLE&body=%20**Description%20of%20your%20problem/comments**%0a%0a%0a%0a---%0a*Do%20not%20edit%20below%20this%20point*%0a%0a[%f0%9f%92%bb%20SOURCE][src]%0a%0a[src]:%20https://github.com/tpoisot/ScientificComputingForTheRestOfUs/blob/main/content/01_fundamentals/04_short_circuit.jl%0a%0a[%f0%9f%93%94%20PAGE][prm]%0a%0a[prm]:%20https://sciencecomputing.io/fundamentals/short-circuit-boolean-operations/%0a%0a%f0%9f%93%a6%20section-fundamentals%0a%0a%f0%9f%8f%b7%ef%b8%8f%20module-short_circuit" target=_blank>Provide feedback on this module</a>
<a href=https://creativecommons.org/licenses/by/4.0/ target=_blank>CC-BY 4.0 (Timothée Poisot)</a>
</div></footer></body><script>const readingBarInner=document.querySelector("#reading-bar-inner");document.addEventListener("scroll",function(){let e=(document.body.scrollTop||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100;readingBarInner.style.setProperty("width",e+"%")})</script>
</html>